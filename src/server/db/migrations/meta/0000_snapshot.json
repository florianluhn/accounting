{
  "version": "6",
  "dialect": "sqlite",
  "id": "f3ec8af7-e55e-4503-9a10-82324f2b7a7f",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "account_balances": {
      "name": "account_balances",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "subledger_account_id": {
          "name": "subledger_account_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "month": {
          "name": "month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "debit_total": {
          "name": "debit_total",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "credit_total": {
          "name": "credit_total",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "balance": {
          "name": "balance",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_account_balances_lookup": {
          "name": "idx_account_balances_lookup",
          "columns": [
            "subledger_account_id",
            "year",
            "month"
          ],
          "isUnique": false
        },
        "idx_account_balances_period": {
          "name": "idx_account_balances_period",
          "columns": [
            "year",
            "month"
          ],
          "isUnique": false
        },
        "unique_account_period": {
          "name": "unique_account_period",
          "columns": [
            "subledger_account_id",
            "year",
            "month"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "account_balances_subledger_account_id_subledger_accounts_id_fk": {
          "name": "account_balances_subledger_account_id_subledger_accounts_id_fk",
          "tableFrom": "account_balances",
          "tableTo": "subledger_accounts",
          "columnsFrom": [
            "subledger_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "attachments": {
      "name": "attachments",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stored_filename": {
          "name": "stored_filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_attachments_journal": {
          "name": "idx_attachments_journal",
          "columns": [
            "journal_entry_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "attachments_journal_entry_id_journal_entries_id_fk": {
          "name": "attachments_journal_entry_id_journal_entries_id_fk",
          "tableFrom": "attachments",
          "tableTo": "journal_entries",
          "columnsFrom": [
            "journal_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "currencies": {
      "name": "currencies",
      "columns": {
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "gl_accounts": {
      "name": "gl_accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "gl_accounts_account_number_unique": {
          "name": "gl_accounts_account_number_unique",
          "columns": [
            "account_number"
          ],
          "isUnique": true
        },
        "idx_gl_accounts_type": {
          "name": "idx_gl_accounts_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "idx_gl_accounts_active": {
          "name": "idx_gl_accounts_active",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "journal_entries": {
      "name": "journal_entries",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "entry_date": {
          "name": "entry_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'USD'"
        },
        "amount_in_usd": {
          "name": "amount_in_usd",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "debit_account_id": {
          "name": "debit_account_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "credit_account_id": {
          "name": "credit_account_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_journal_entries_date": {
          "name": "idx_journal_entries_date",
          "columns": [
            "entry_date"
          ],
          "isUnique": false
        },
        "idx_journal_entries_debit": {
          "name": "idx_journal_entries_debit",
          "columns": [
            "debit_account_id"
          ],
          "isUnique": false
        },
        "idx_journal_entries_credit": {
          "name": "idx_journal_entries_credit",
          "columns": [
            "credit_account_id"
          ],
          "isUnique": false
        },
        "idx_journal_entries_category": {
          "name": "idx_journal_entries_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "idx_journal_entries_currency": {
          "name": "idx_journal_entries_currency",
          "columns": [
            "currency_code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "journal_entries_currency_code_currencies_code_fk": {
          "name": "journal_entries_currency_code_currencies_code_fk",
          "tableFrom": "journal_entries",
          "tableTo": "currencies",
          "columnsFrom": [
            "currency_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "journal_entries_debit_account_id_subledger_accounts_id_fk": {
          "name": "journal_entries_debit_account_id_subledger_accounts_id_fk",
          "tableFrom": "journal_entries",
          "tableTo": "subledger_accounts",
          "columnsFrom": [
            "debit_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "journal_entries_credit_account_id_subledger_accounts_id_fk": {
          "name": "journal_entries_credit_account_id_subledger_accounts_id_fk",
          "tableFrom": "journal_entries",
          "tableTo": "subledger_accounts",
          "columnsFrom": [
            "credit_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "subledger_accounts": {
      "name": "subledger_accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": true
        },
        "gl_account_id": {
          "name": "gl_account_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'USD'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "subledger_accounts_account_number_unique": {
          "name": "subledger_accounts_account_number_unique",
          "columns": [
            "account_number"
          ],
          "isUnique": true
        },
        "idx_subledger_gl_account": {
          "name": "idx_subledger_gl_account",
          "columns": [
            "gl_account_id"
          ],
          "isUnique": false
        },
        "idx_subledger_currency": {
          "name": "idx_subledger_currency",
          "columns": [
            "currency_code"
          ],
          "isUnique": false
        },
        "idx_subledger_active": {
          "name": "idx_subledger_active",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "subledger_accounts_gl_account_id_gl_accounts_id_fk": {
          "name": "subledger_accounts_gl_account_id_gl_accounts_id_fk",
          "tableFrom": "subledger_accounts",
          "tableTo": "gl_accounts",
          "columnsFrom": [
            "gl_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "subledger_accounts_currency_code_currencies_code_fk": {
          "name": "subledger_accounts_currency_code_currencies_code_fk",
          "tableFrom": "subledger_accounts",
          "tableTo": "currencies",
          "columnsFrom": [
            "currency_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}